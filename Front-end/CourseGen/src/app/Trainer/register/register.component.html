<div class="admin-dashboard-container" style="background-color: #e4e9ef;">
  <div class="top-nav">
    <div class="logo">
      <img src="assets/tut-logo.jpg" alt="Logo" class="logo-img" />
    </div>
    <div class="nav-right">
      <button class="profile-btn">
        <img src="assets/tut-logo.jpg" alt="Profile" class="profile-img" style="opacity: 0;"/>
      </button>
    </div>
  </div>

  <div class="body">
    <div class="register-container">
      <div class="register-box">
        <div class="left-panel">
          <h2>HAVE AN ACCOUNT?</h2>
          <button class="btn-signin" routerLink="/login">Sign In</button>
        </div>

        <div class="right-panel">
          <form [formGroup]="registerForm" (ngSubmit)="onRegister()">
            <h3>Sign Up</h3>

            <div class="form-group">
              <label for="name">Name</label>
              <input
                type="text"
                id="name"
                formControlName="name"
                placeholder="Enter your name"
              />
              <div *ngIf="f['name'].touched && f['name'].errors" class="error-message">
                <div *ngIf="f['name'].errors['required']">Name is required</div>
                <div *ngIf="f['name'].errors['minlength']">Minimum 2 characters required</div>
              </div>
            </div>

            <div class="form-group">
              <label for="surname">Surname</label>
              <input
                type="text"
                id="surname"
                formControlName="surname"
                placeholder="Enter your surname"
              />
              <div *ngIf="f['surname'].touched && f['surname'].errors" class="error-message">
                <div *ngIf="f['surname'].errors['required']">Surname is required</div>
                <div *ngIf="f['surname'].errors['minlength']">Minimum 2 characters required</div>
              </div>
            </div>

            <div class="form-group">
              <label for="email">TUT Email</label>
              <input
                type="email"
                id="email"
                formControlName="email"
                placeholder="e.g. 123456789@tut4life.ac.za"
              />
              <div *ngIf="f['email'].touched && f['email'].errors" class="error-message">
                <div *ngIf="f['email'].errors['required']">Email is required</div>
                <div *ngIf="f['email'].errors['pattern']">
                  Please enter a valid TUT email (e.g. 123456789tut4life.ac.za)
                </div>
              </div>
            </div>

            <div class="form-group">
              <label for="password">Password</label>
              <input
                type="password"
                id="password"
                formControlName="password"
                placeholder="Enter password"
              />
              <div *ngIf="f['password'].touched && f['password'].errors" class="error-message">
                <div *ngIf="f['password'].errors['required']">Password is required</div>
                <div *ngIf="f['password'].errors['minlength']">Minimum 6 characters required</div>
              </div>
            </div>

            <div class="form-group">
              <label for="confirmPassword">Confirm Password</label>
              <input
                type="password"
                id="confirmPassword"
                formControlName="confirmPassword"
                placeholder="Confirm password"
              />
              <div *ngIf="f['confirmPassword'].touched && registerForm.errors?.['mismatch']" class="error-message">
                Passwords do not match
              </div>
            </div>

            <div class="form-group">
              <input type="checkbox" id="remember" formControlName="rememberMe" style="width: 10px;"/>
              <label for="remember">Remember me</label>
            </div>

            <div *ngIf="errorMessage" class="error-message alert alert-danger">
              {{ errorMessage }}
            </div>

            <div *ngIf="registrationSuccess" class="success-message alert alert-success">
              Registered successfully! Please wait for admin approval.
            </div>

            <button 
              type="submit" 
              class="btn-signup" 
              [disabled]="registerForm.invalid || registerForm.errors?.['mismatch'] || isLoading"
            >
              <span *ngIf="!isLoading">Sign Up</span>
              <span *ngIf="isLoading" class="spinner-border spinner-border-sm"></span>
            </button>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>